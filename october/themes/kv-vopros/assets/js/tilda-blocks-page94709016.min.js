window.isMobile=!1;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){window.isMobile=!0}
window.isSafari=!1;if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){window.isSafari=!0}
window.isSafariVersion='';if(window.isSafari){var version=(navigator.appVersion).match(/Version\/(\d+)\.(\d+)\.?(\d+)? Safari/);if(version!==null){window.isSafariVersion=[parseInt(version[1],10),parseInt(version[2],10),parseInt(version[3]||0,10)]}}
function t1035__init(recId){var rec=document.querySelector('#rec'+recId);if(!rec)return;var container=rec.querySelector('.t1035');var thumbContainer=container.querySelector('.t1035__thumb-container');var thumbWrapper=thumbContainer.querySelector('.t1035__thumb-wrapper');var thumbType=thumbWrapper.getAttribute('data-video-type');var thumbId=thumbWrapper.getAttribute('data-video-id');var thumbImage=thumbWrapper.getAttribute('data-video-image');var videoContainer=container.querySelector('.t1035__video-container');var videoWrapper=videoContainer.querySelector('.t1035__video-wrapper');var videoType=videoWrapper.getAttribute('data-video-type');var videoId=videoWrapper.getAttribute('data-video-id');var thumbCloseBtn=thumbContainer.querySelector('.t1035__thumb-close-btn');var videoCloseBtn=videoContainer.querySelector('.t1035__video-close-btn');window.t1035={thumbWidth:'',thumbHeight:'',videoWidth:'',videoHeight:'',escapeKeydown:'',changeThumbRutubeState:'',changeVideoRutubeState:'',changeThumbVimeoState:'',};if(thumbType&&(thumbId||thumbImage)){if(thumbType==='img'){t1035__addVideo(thumbWrapper,'t1035__thumb');t1035__setThumbVideo(rec,thumbContainer,thumbType)}else if(thumbType){t1035__createPlayer(thumbWrapper,'t1035__thumb').then(function(player){var thumbVideo=player.videoEl;if(player.videoType==='vimeo'){t1035__handleVimeoControl(player)}else if(player.videoType==='rutube'){t1035__handleRutubeControl(thumbWrapper,player)}else{player.mute();player.play()}
if(thumbType==='mp4'){if(!container.classList.contains('t1035_previewmode')){thumbVideo.addEventListener('contextmenu',function(event){event.preventDefault()})}}
if(videoType&&videoId){thumbVideo.addEventListener('keydown',function(event){var key=event.key||event.keyCode;if(['Enter',13,' ',32].indexOf(key)!==-1){t1035__openWidget(rec,container,thumbWrapper,videoWrapper)}})}
t1035__setThumbVideo(rec,thumbContainer,thumbType)})}}
if(videoType&&videoId){videoContainer.style.removeProperty('display')}
if(!container.classList.contains('t1035_previewmode')){thumbCloseBtn.addEventListener('click',function(){container.style.display='none'})}
if(window.isMobile||container.classList.contains('t1035_previewmode')){thumbCloseBtn.style.opacity=1;videoCloseBtn.style.opacity=1}
videoCloseBtn.addEventListener('click',function(){t1035__closeWidget(container,thumbWrapper,videoWrapper)})}
function t1035__setThumbVideo(rec,thumbContainer,type){var container=rec.querySelector('.t1035');var thumbWrapper=thumbContainer.querySelector('.t1035__thumb-wrapper');var thumbVideo=thumbContainer.querySelector('.t1035__thumb');var aspectRatio=thumbWrapper.style.aspectRatio;container.style.removeProperty('display');thumbContainer.style.removeProperty('display');if(!aspectRatio){if(type==='youtube'||type==='youtube-shorts'){aspectRatio=type==='youtube-shorts'?9/16:16/9;thumbWrapper.style.aspectRatio=type==='youtube-shorts'?'9/16':'16/9'}else if(type==='img'){aspectRatio=3/4;thumbWrapper.style.aspectRatio='3/4'}else if(type==='vkvideo'||type==='rutube'||type==='kinescope'||type==='boomstream'||type==='vimeo'){aspectRatio=16/9;thumbWrapper.style.aspectRatio='16/9'}else{aspectRatio=thumbVideo.videoWidth/thumbVideo.videoHeight;thumbWrapper.style.aspectRatio=thumbVideo.videoWidth+'/'+thumbVideo.videoHeight}}else{var operands=aspectRatio.split('/');if(operands[0]&&operands[1]){aspectRatio=parseFloat(operands[0])/parseFloat(operands[1])}}
t1035__setThumbSize(thumbWrapper,thumbVideo,type,aspectRatio);var videoWrapper=rec.querySelector('.t1035__video-wrapper');var videoType=videoWrapper.getAttribute('data-video-type');var videoId=videoWrapper.getAttribute('data-video-id');if(videoType&&videoId){thumbWrapper.addEventListener('click',function(){t1035__openWidget(rec,container,thumbWrapper,videoWrapper)})}}
function t1035__setThumbSize(thumbWrapper,thumbVideo,type,aspectRatio){var maxSize='125px';var isImageThumb=type==='img';var isSquare=Math.abs(aspectRatio-1)<=0.1;var isVertical=aspectRatio<0.9;var isHorizontal=aspectRatio>1.1;if(isSquare){if(isImageThumb){thumbWrapper.style.width=maxSize;thumbWrapper.style.maxWidth=t1035__setThumbSizeStyle(maxSize,'vw')}else{thumbWrapper.style.maxWidth=maxSize;thumbWrapper.style.maxHeight=maxSize}}else if(isHorizontal){if(isImageThumb){thumbWrapper.style.height=maxSize;thumbWrapper.style.maxHeight=t1035__setThumbSizeStyle(maxSize,'vh')}else{thumbWrapper.style.maxWidth='';thumbWrapper.style.maxHeight=maxSize}}else if(isVertical){if(isImageThumb){thumbWrapper.style.width=maxSize;thumbWrapper.style.maxWidth=t1035__setThumbSizeStyle(maxSize,'vw')}else{thumbWrapper.style.maxWidth=maxSize;thumbWrapper.style.maxHeight=''}}
var thumbVideoStyles=window.getComputedStyle(thumbVideo);window.t1035.thumbWidth=thumbVideoStyles.getPropertyValue('width');window.t1035.thumbHeight=thumbVideoStyles.getPropertyValue('height')}
function t1035__setThumbSizeStyle(size,units){return 'min('+size+', calc(100'+units+' - 50px))'}
function t1035__setVideoSize(videoWrapper,video,videoType){if(!video)return;var videoWidth=video.videoWidth;var videoHeight=video.videoHeight;var size560=560;var size315=315;var size280=280;if(!videoWidth&&!videoHeight){if(videoType!=='youtube-shorts'&&videoType!=='rutube'){videoWidth=size560;videoHeight=size315}else if(videoType==='rutube'){videoWidth=size560;videoHeight=size280}}
var customRatioValue=videoWrapper.getAttribute('data-video-ratio');var videoRatio=customRatioValue?customRatioValue.replace('_','/'):videoWidth+'/'+videoHeight;var videoRatioParts=videoRatio.split('/');var videoRatioWidth=parseInt(videoRatioParts[0],10);var videoRatioHeight=parseInt(videoRatioParts[1],10);videoWrapper.style.aspectRatio=videoRatio;videoWrapper.style.width=videoWidth+'px';videoWrapper.style.height=videoHeight+'px';var aspectRatio=customRatioValue?videoRatioWidth/videoRatioHeight:videoWidth/videoHeight;var isSquare=Math.abs(aspectRatio-1)<=0.1;var isVertical=aspectRatio<0.9;var isHorizontal=aspectRatio>1.1;if(isSquare){videoWrapper.style.maxWidth=t1035__setVideoSizeStyle(size560,'vw');videoWrapper.style.maxHeight=t1035__setVideoSizeStyle(size560,'vh');videoWrapper.style.removeProperty('width')}else if(isHorizontal){videoWrapper.style.maxWidth=t1035__setVideoSizeStyle(videoWidth,'vw');videoWrapper.style.maxHeight=t1035__setVideoSizeStyle(videoHeight,'vh');videoWrapper.style.removeProperty('width')}else if(isVertical||videoType==='youtube-shorts'){videoWrapper.style.maxWidth=t1035__setVideoSizeStyle(size315,'vw');videoWrapper.style.maxHeight=t1035__setVideoSizeStyle(size560,'vh');videoWrapper.style.removeProperty('height')}}
function t1035__setVideoSizeStyle(size,units){return 'min('+size+'px, calc(100'+units+' - 50px))'}
function t1035__openWidget(rec,container,thumbWrapper,videoWrapper){var videoPlayBtn=container.querySelector('.t1035__video-play-btn');var videoCloseBtn=container.querySelector('.t1035__video-close-btn');var analitics=container.getAttribute('data-track-popup');var recId=rec.id.replace('rec','');var hook='TildaVideoWidget'+recId;if(analitics&&window.Tilda){Tilda.sendEventToStatistics(analitics,hook)}
if(window.t1035.videoWidth){videoWrapper.style.width=window.t1035.videoWidth}
if(window.t1035.videoHeight){videoWrapper.style.height=window.t1035.videoHeight}
t1035__stopThumbPlayer(thumbWrapper);t1035__startVideoPlayer(container,videoWrapper,videoPlayBtn);videoPlayBtn.style.display='none';container.classList.add('t1035__container--is_opened');videoCloseBtn.style.removeProperty('display');t1035__showButtonAfterDelay(container);window.t1035.escapeKeydown=t1035__escapeKeydown.bind(null,container,thumbWrapper,videoWrapper);document.addEventListener('keydown',window.t1035.escapeKeydown)}
function t1035__showButtonAfterDelay(container){var videoActionBtn=container.querySelector('.t1035__button-container');if(videoActionBtn){var timer=videoActionBtn.getAttribute('data-timer')||'0.3';if(timer){timer=parseFloat(timer)*1000;var timerId=setTimeout(function(){videoActionBtn.style.removeProperty('display');clearTimeout(timerId)},timer)}}}
function t1035__stopThumbPlayer(thumbWrapper){var thumbPlayer=t1035__getPlayer(thumbWrapper);if(thumbPlayer){thumbPlayer.pause();if(thumbPlayer.videoType==='mp4'){thumbPlayer.start()}else if(thumbPlayer.videoType==='rutube'){window.removeEventListener('message',window.t1035.changeThumbRutubeState);window.t1035.changeThumbRutubeState=''}}}
function t1035__startVideoPlayer(container,videoWrapper,videoPlayBtn){var videoPlayer=t1035__getPlayer(videoWrapper);if(videoPlayer){videoPlayer.start();videoPlayer.unMute();videoPlayer.play()}else{t1035__createPlayer(videoWrapper,'t1035__video').then(function(player){var videoEl=player.videoEl;if(player.videoType==='vimeo'){t1035__handleVimeoControl(player,!0)}else if(player.videoType==='rutube'){var videoId=videoWrapper.getAttribute('data-video-id');window.t1035.changeVideoRutubeState=t1035__changePostMessageState.bind(null,function(message){if(message.type==='player:ready'&&message.data&&message.data.videoId===videoId){window.removeEventListener('message',window.t1035.changeVideoRutubeState);window.t1035.changeVideoRutubeState='';player.start();player.unMute();player.play()}});player.state();window.addEventListener('message',window.t1035.changeVideoRutubeState)}else{player.unMute();player.play()}
t1035__setVideoSize(videoWrapper,videoEl,player.videoType);if(player.videoType==='mp4'){videoWrapper.addEventListener('dblclick',function(){try{videoEl.requestFullscreen()}catch(error){console.error('An error occurred while trying to request fullscreen: ',error)}});var borderWidth=videoWrapper.style.borderWidth;var borderRadius=videoWrapper.style.borderRadius;document.addEventListener('fullscreenchange',function(){if(videoEl.requestFullscreen){if(document.fullscreenElement||document.webkitFullscreenElement){videoEl.setAttribute('controls','controls');videoEl.style.objectFit='contain';videoWrapper.style.removeProperty('border-width');videoWrapper.style.removeProperty('border-radius')}else{videoEl.removeAttribute('controls');videoEl.style.removeProperty('object-fit');videoWrapper.style.borderWidth=borderWidth;videoWrapper.style.borderRadius=borderRadius}}});if(!container.classList.contains('t1035_previewmode')){videoEl.addEventListener('contextmenu',function(event){event.preventDefault()})}
videoWrapper.addEventListener('click',function(){t1035__swapPlayPause(player,videoPlayBtn)});[videoWrapper,videoPlayBtn].forEach(function(element){element.addEventListener('keydown',function(event){var key=event.key||event.keyCode;if(['Enter',13,' ',32].indexOf(key)!==-1){t1035__swapPlayPause(player,videoPlayBtn)}})});window.addEventListener('blur',function(){player.pause();videoPlayBtn.style.display='block'})}
if(!window.t1035.videoWidth||!window.t1035.videoHeight){var videoStyles=window.getComputedStyle(videoEl);if(!window.t1035.videoWidth){window.t1035.videoWidth=videoStyles.getPropertyValue('width');if(window.t1035.videoWidth==='0px')window.t1035.videoWidth='315px';videoWrapper.style.width=window.t1035.videoWidth}
if(!window.t1035.videoHeight){window.t1035.videoHeight=videoStyles.getPropertyValue('height');if(window.t1035.videoHeight==='0px')window.t1035.videoHeight='560px';videoWrapper.style.height=window.t1035.videoHeight}}})}}
function t1035__closeWidget(container,thumbWrapper,videoWrapper){var videoPlayBtn=container.querySelector('.t1035__video-play-btn');var videoActionBtn=container.querySelector('.t1035__button-container');var videoCloseBtn=container.querySelector('.t1035__video-close-btn');var thumbPlayer=t1035__getPlayer(thumbWrapper);var videoPlayer=t1035__getPlayer(videoWrapper);if(videoActionBtn)videoActionBtn.style.display='none';videoCloseBtn.style.display='none';videoPlayBtn.style.display='none';document.removeEventListener('keydown',window.t1035.escapeKeydown);window.t1035.escapeKeydown='';videoWrapper.classList.add('t1035__video-wrapper--animate');if(videoPlayer){videoPlayer.mute();if(videoPlayer.videoType==='mp4'){videoWrapper.style.width=window.t1035.thumbWidth;videoWrapper.style.height=window.t1035.thumbHeight}}
var timerId=setTimeout(function(){container.classList.remove('t1035__container--is_opened');videoWrapper.classList.remove('t1035__video-wrapper--animate');if(videoPlayer){videoPlayer.pause()}
if(thumbPlayer){if(thumbPlayer.videoType==='rutube'){t1035__handleRutubeControl(thumbWrapper,thumbPlayer)}else{thumbPlayer.play()}}
clearTimeout(timerId)},140)}
function t1035__escapeKeydown(container,thumbWrapper,videoWrapper,event){var key=event.code||event.key;if(['Escape',27].indexOf(key)!==-1){var isGalleryShowed=document.body.classList.contains('t-zoomer__active');if(isGalleryShowed)return;var isPopupShowed=document.body.classList.contains('t-body_popupshowed');if(isPopupShowed)return;t1035__closeWidget(container,thumbWrapper,videoWrapper)}}
function t1035__swapPlayPause(videoPlayer,videoPlayBtn){if(document.fullscreenElement||document.webkitFullscreenElement)return;if(videoPlayer.state()){videoPlayer.play();videoPlayBtn.style.display='none'}else{videoPlayer.pause();videoPlayBtn.style.display='block'}}
function t1035__addVideo(videoWrapper,className){var videoType=videoWrapper.getAttribute('data-video-type');var videoId=videoWrapper.getAttribute('data-video-id');var videoHash=videoWrapper.getAttribute('data-video-hash');var videoImage=videoWrapper.getAttribute('data-video-image');var videoClassName=className+' '+className+'_'+videoType;var videoSrc='';var videoHashQuery='';var isThumbVideo=className==='t1035__thumb';videoId=videoId?videoId.trim():'';videoHash=videoHash?videoHash.trim():'';if(videoType==='youtube'||videoType==='youtube-shorts'){if(videoType==='youtube-shorts'){videoClassName+=' '+className+'_youtube'}
videoWrapper.insertAdjacentHTML('afterbegin','<div class="t1035__iframe '+videoClassName+'"></div>')}else if(videoType==='vimeo'){var regExp=/(?:https?:\/\/)?(?:www\.)?(?:vimeo\.com\/|player\.vimeo\.com\/video\/|api\.vimeo\.com\/videos\/)?(\d+)/;var match=videoId.match(regExp);videoId=match&&match[1]?match[1]:videoId;videoHashQuery='?autoplay=1';videoHashQuery+=isThumbVideo?'&controls=0&loop=1':'';videoHashQuery+=videoHash?'&h='+videoHash:'';videoSrc='https://player.vimeo.com/video/'+videoId+videoHashQuery;videoWrapper.insertAdjacentHTML('afterbegin','<div class="t1035__iframe-wrap"></div><iframe class="t1035__iframe '+videoClassName+'" src="'+videoSrc+'" frameborder="0" allow="autoplay; encrypted-media; gyroscope; picture-in-picture; fullscreen" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')}else if(videoType==='rutube'){videoHashQuery='?autoplay=1';videoHashQuery+=isThumbVideo?'&loop=1':'';videoHashQuery+=videoHash?'&p='+videoHash:'';videoSrc='https://rutube.ru/embed/'+videoId+videoHashQuery;videoWrapper.insertAdjacentHTML('afterbegin','<div class="t1035__iframe-wrap"></div><iframe class="t1035__iframe '+videoClassName+'" src="'+videoSrc+'" width="560" height="280" frameborder="0" scrolling="no" allow="clipboard-write; autoplay; fullscreen; picture-in-picture; encrypted-media;" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>')}else if(videoType==='kinescope'){var rec=videoWrapper.closest('.t-rec');var recId=rec.id.replace('rec','');var kinescopeId='kinescope';kinescopeId+=isThumbVideo?'thumb':'video';kinescopeId+=recId;kinescopeId+='_'+Math.floor(Math.random()*101);videoSrc='https://kinescope.io/embed/'+videoId;videoWrapper.insertAdjacentHTML('afterbegin','<div class="t1035__iframe-wrap"></div><iframe id="'+kinescopeId+'" class="t1035__iframe '+videoClassName+'" src="'+videoSrc+'" width="560" height="315" frameborder="0" scrolling="no" allow="fullscreen; picture-in-picture; encrypted-media;"></iframe>')}else if(videoType==='vkvideo'){var regExp=/(?:video|video_ext\.php\?oid=|clip=?|)(-?\d+)_(\d+)|oid=(-?\d+)&id=(\d+)(?:.*?hash=([a-f0-9]+))?/;var match=videoId.match(regExp);var oid='';var id='';if(match){oid=match[1]||match[3];id=match[2]||match[4];if(!videoHash&&match[5])videoHash=match[5]}
videoHashQuery='?oid='+oid+'&id='+id;videoHashQuery+=videoHash?'&hash='+videoHash:'';videoHashQuery+=isThumbVideo?'&loop=1':'';videoHashQuery+='&autoplay=1&js_api=1';videoSrc='https://vk.com/video_ext.php'+videoHashQuery;videoWrapper.insertAdjacentHTML('afterbegin','<div class="t1035__iframe-wrap"></div><iframe class="t1035__iframe '+videoClassName+'" src="'+videoSrc+'" width="560" height="315" frameborder="0" scrolling="no" allow="autoplay; encrypted-media; fullscreen; picture-in-picture;"></iframe>')}else if(videoType==='boomstream'){videoHashQuery='&autostart=1';videoHashQuery+=isThumbVideo?'&loop=1':'';if(videoId.indexOf('?')===-1)videoHashQuery=videoHashQuery.replace('&','?');videoSrc=videoId+videoHashQuery;videoWrapper.insertAdjacentHTML('afterbegin','<div class="t1035__iframe-wrap"></div><iframe class="t1035__iframe '+videoClassName+'" src="'+videoSrc+'" width="560" height="315" frameborder="0" scrolling="no" allow="autoplay; encrypted-media; fullscreen; picture-in-picture;" allowfullscreen></iframe>')}else if(videoType==='mp4'){videoWrapper.insertAdjacentHTML('afterbegin','<video class="'+videoClassName+'"'+'loop muted="true" preload="none" disablepictureinpicture="true" tabindex="0" playsinline'+(videoImage?' poster="'+videoImage+'"':'')+'>'+'<source src="'+videoId+'" type="video/mp4">Your browser does not support the video tag.'+'</video>')}else if(videoType==='img'){videoWrapper.insertAdjacentHTML('afterbegin','<div'+' class="'+videoClassName+' t-bgimg"'+(videoImage?' data-original="'+videoImage+'"'+' style="background-image:url(\''+videoImage+'\');" itemscope itemtype="http://schema.org/ImageObject"':'')+'>'+'<meta itemprop="image"'+(videoImage?' content="'+videoImage+'"':'')+'>'+'</div>')}}
function t1035__getPlayer(videoWrapper){var player=videoWrapper.TildaVideoPlayer;return player||null}
function t1035__createPlayer(videoWrapper,className){if(videoWrapper.TildaVideoPlayer){return Promise.resolve(videoWrapper.TildaVideoPlayer)}
var videoType=videoWrapper.getAttribute('data-video-type');t1035__addVideo(videoWrapper,className);if(videoType==='mp4'){return t1035__initPlayerHtmlVideo(videoWrapper)}else if(videoType==='youtube'||videoType==='youtube-shorts'){return t1035__initPlayerYoutube(videoWrapper)}else if(videoType==='vimeo'){return t1035__initPlayerVimeo(videoWrapper)}else if(videoType==='rutube'){return t1035__initPlayerRutube(videoWrapper)}else if(videoType==='kinescope'){return t1035__initPlayerKinescope(videoWrapper)}else if(videoType==='vkvideo'){return t1035__initPlayerVKvideo(videoWrapper)}else if(videoType==='boomstream'){return t1035__initPlayerBoomstream(videoWrapper)}
return Promise.reject(console.warn('unsupported video type:',videoType))}
function t1035__changePostMessageState(callback,event){if(event&&event.data&&typeof event.data==='string'){var message=JSON.parse(event.data);if(callback)callback(message)}}
function t1035__initPlayerHtmlVideo(videoWrapper){var videoType='mp4';return new Promise(function(resolve,reject){var video=videoWrapper.querySelector('video');if(!video)return reject(new Error(videoType+': Video Element not Found'));video.addEventListener('loadedmetadata',function(){var player={videoType,videoEl:video,pause:function(){return video.pause()},play:function(){return video.play()},mute:function(){return(video.muted=!0)},unMute:function(){return(video.muted=!1)},start:function(){return(video.currentTime=0)},state:function(){return video.paused},};videoWrapper.TildaVideoPlayer=player;return resolve(player)});video.preload='metadata'})}
function t1035__initPlayerYoutube(videoWrapper){var videoId=videoWrapper.getAttribute('data-video-id');var videoType=videoWrapper.getAttribute('data-video-type');return new Promise(function(resolve,reject){var iframe=videoWrapper.querySelector('.t1035__iframe');if(!iframe)return reject(new Error(videoType+': IFrame Element not Found'));t_onFuncLoad('t_loadJsFile',function(){t_loadJsFile('https://www.youtube.com/iframe_api')});t_onFuncLoad('YT',function(){if(!YT.Player){return setTimeout(function(){t1035__initPlayerYoutube(videoWrapper).then(resolve)},300)}
var isYoutbeShorts=videoType==='youtube-shorts';var youtubeWidth=isYoutbeShorts?'315':'560';var youtubeHeight=isYoutbeShorts?'560':'315';var params={origin:window.location.protocol+'//'+window.location.host,loop:1,autoplay:1,mute:1,playsinline:1,controls:0,};if(videoId){var regex=/start=(\d+)/;var match=videoId.match(regex);if(match)params.start=match[1];if(videoId.indexOf('?')!==-1)videoId=videoId.split('?')[0]}
params.playlist=videoId;new YT.Player(iframe,{videoId:videoId,width:youtubeWidth,height:youtubeHeight,playerVars:params,events:{onReady:function(e){var YTplayer=e.target;var player={videoType,videoEl:videoWrapper.querySelector('.t1035__iframe'),player:YTplayer,pause:function(){return YTplayer.pauseVideo()},play:function(){return YTplayer.playVideo()},mute:function(){return YTplayer.mute()},unMute:function(){return YTplayer.unMute()},start:function(){return YTplayer.seekTo(0)},state:function(){return YTplayer.getPlayerState()},};videoWrapper.TildaVideoPlayer=player;return resolve(player)},},})})})}
function t1035__handleVimeoControl(player,isVideo){window.t1035.changeThumbVimeoState=t1035__changePostMessageState.bind(null,function(message){if(message&&message.event==='ready'){window.removeEventListener('message',window.t1035.changeThumbVimeoState);window.t1035.changeThumbVimeoState='';if(isVideo){player.start();player.unMute()}else{player.mute()}
player.play()}});window.addEventListener('message',window.t1035.changeThumbVimeoState)}
function t1035__initPlayerVimeo(videoWrapper){var videoType='vimeo';function t1035__doVimeoCommand(iframe,command){if(!iframe||!iframe.contentWindow)return;iframe.contentWindow.postMessage(JSON.stringify(command),'*')}
return new Promise(function(resolve,reject){var iframe=videoWrapper.querySelector('iframe');if(!iframe)return reject(new Error(videoType+': IFrame Element not Found'));var player={videoType,videoEl:iframe,pause:function(){return t1035__doVimeoCommand(iframe,{method:'pause',value:!0})},play:function(){return t1035__doVimeoCommand(iframe,{method:'play',value:!0})},mute:function(){return t1035__doVimeoCommand(iframe,{method:'setVolume',value:0})},unMute:function(){return t1035__doVimeoCommand(iframe,{method:'setVolume',value:1})},start:function(){return t1035__doVimeoCommand(iframe,{method:'seekTo',value:0})},state:function(){return t1035__doVimeoCommand(iframe,{method:'getPaused'})},};videoWrapper.TildaVideoPlayer=player;resolve(player)})}
function t1035__handleRutubeControl(thumbWrapper,player){var videoId=thumbWrapper.getAttribute('data-video-id');window.t1035.changeThumbRutubeState=t1035__changePostMessageState.bind(null,function(message){if(message.data){if(message.type==='player:ready'&&message.data.videoId===videoId){player.play()}else if(message.type==='player:changeState'&&message.data.state==='stopped'){player.start();player.play()}}});player.state();window.addEventListener('message',window.t1035.changeThumbRutubeState)}
function t1035__initPlayerRutube(videoWrapper){var videoType='rutube';function t1035__doRutubeCommand(iframe,command,data){if(!iframe||!iframe.contentWindow)return;iframe.contentWindow.postMessage(JSON.stringify({type:'player:'+command,data:data,}),'*')}
return new Promise(function(resolve,reject){var iframe=videoWrapper.querySelector('iframe');if(!iframe)return reject(new Error(videoType+': IFrame Element not Found'));var player={videoType,videoEl:iframe,pause:function(){return t1035__doRutubeCommand(iframe,'pause',{})},play:function(){return t1035__doRutubeCommand(iframe,'play',{})},mute:function(){return t1035__doRutubeCommand(iframe,'mute',{})},unMute:function(){return t1035__doRutubeCommand(iframe,'unMute',{})},start:function(){return t1035__doRutubeCommand(iframe,'setCurrentTime',{time:0})},state:function(){t1035__doRutubeCommand(iframe,'changeState',{})},};videoWrapper.TildaVideoPlayer=player;return resolve(player)})}
function t1035__initPlayerKinescope(videoWrapper){var videoType='kinescope';return new Promise(function(resolve,reject){var iframe=videoWrapper.querySelector('iframe');if(!iframe)return reject(new Error(videoType+': IFrame Element not Found'));t_onFuncLoad('t_loadJsFile',function(){t_loadJsFile('https://player.kinescope.io/latest/iframe.player.js')});t_onFuncLoad('Kinescope',function(){var id=iframe.id;var url=iframe.src;Kinescope.IframePlayer.create(id,{url,behavior:{loop:!0,autoPlay:!0,},}).then(function(KinescopePlayer){var player={videoType,videoEl:iframe,player:KinescopePlayer,pause:function(){return KinescopePlayer.pause()},play:function(){return KinescopePlayer.play()},mute:function(){return KinescopePlayer.mute()},unMute:function(){return KinescopePlayer.unmute()},start:function(){return KinescopePlayer.seekTo(0)},state:function(){return KinescopePlayer.getState()},};videoWrapper.TildaVideoPlayer=player;resolve(player)})})})}
function t1035__initPlayerVKvideo(videoWrapper){var videoType='vkvideo';return new Promise(function(resolve,reject){var iframe=videoWrapper.querySelector('iframe');if(!iframe)return reject(new Error(videoType+': IFrame Element not Found'));t_onFuncLoad('t_loadJsFile',function(){t_loadJsFile('https://vk.com/js/api/videoplayer.js')});t_onFuncLoad('VK',function(){var VKPlayer=VK.VideoPlayer(iframe);var player={videoType,videoEl:iframe,player:VKPlayer,pause:function(){return VKPlayer.pause()},play:function(){return VKPlayer.play()},mute:function(){return VKPlayer.mute()},unMute:function(){return VKPlayer.unmute()},start:function(){return VKPlayer.seek(0)},state:function(){return VKPlayer.getState()},};videoWrapper.TildaVideoPlayer=player;return resolve(player)})})}
function t1035__initPlayerBoomstream(videoWrapper){var videoType='boomstream';function t1035__doBoomstreamCommand(iframe,method){iframe.contentWindow.postMessage(method,'*')}
return new Promise(function(resolve,reject){var iframe=videoWrapper.querySelector('iframe');if(!iframe)return reject(new Error(videoType+': IFrame Element not Found'));var videoUrl=iframe.src;var regExp=/boomstream.com\/(?:balancer\/)?([A-Za-z0-9-]+)/;var match=videoUrl.match(regExp);if(!match)return reject(new Error(videoType+': VideoID not Found'));var player={videoType,videoEl:iframe,pause:function(){return t1035__doBoomstreamCommand(iframe,{code:match[1],method:'action',action:'pause',data:'',})},play:function(){return t1035__doBoomstreamCommand(iframe,{code:match[1],method:'action',action:'play',data:'',})},mute:function(){return t1035__doBoomstreamCommand(iframe,{code:match[1],method:'action',action:'mute',data:'',})},unMute:function(){return t1035__doBoomstreamCommand(iframe,{code:match[1],method:'action',action:'unmute',data:'',})},start:function(){return t1035__doBoomstreamCommand(iframe,{code:match[1],method:'action',action:'seek',data:'0',})},state:function(){return t1035__doBoomstreamCommand(iframe,{code:match[1],method:'action',action:'getStatus',data:'0',})},};videoWrapper.TildaVideoPlayer=player;return resolve(player)})}
function t1093__init(recID){var rec=document.getElementById('rec'+recID);if(!rec)return;var popup=rec.querySelector('.t-popup');if(!popup)return;t1093__processGlobalObj();t1093__updateGlobalObj('popupList',popup,'array');t1093__processPopupClassList(popup);var popupContainer=popup.querySelector('.t-popup__container');if(!popupContainer)return;var elementIds=popup.getAttribute('data-popup-rec-ids');if(!elementIds)return;elementIds=elementIds.split(',');elementIds.forEach(function(elementId){var pairedRecord=t1093__getBlockById(elementId);if(!pairedRecord)return;popupContainer.appendChild(pairedRecord);t1093__setPointerEventsToZeroBlock(pairedRecord);var blockId=pairedRecord.id&&pairedRecord.id.replace('rec','');t_onFuncLoad('t396_init',function(){t396_init(blockId)})});var currentEvent=t1093__getGlobalObjValue('isMobile')?'orientationchange':'resize';window.removeEventListener(currentEvent,t1093__resizeAllPopups);window.addEventListener(currentEvent,t1093__resizeAllPopups);t1093__processScrollablePopup(popup)}
function t1093__getBlockById(elementId){var pairedRecord=document.getElementById('rec'+elementId)||document.getElementById(elementId);if(!pairedRecord){var hookLink=document.querySelector('a[name="'+elementId+'"]');pairedRecord=hookLink&&hookLink.nextElementSibling}
if(!pairedRecord)return null;var recordType=pairedRecord.getAttribute('data-parenttplid')||pairedRecord.getAttribute('data-record-type');if(recordType!=='396'&&recordType!=='121')return null;return pairedRecord}
function t1093__processGlobalObj(){if(typeof window.t1093_popupList==='undefined')window.t1093_popupList=[];if(typeof window.t1093_resizeTimer==='undefined')window.t1093_resizeTimer=0;if(typeof window.t1093_hoverTimer==='undefined')window.t1093_hoverTimer=0;if(typeof window.t1093_activeHoverHook==='undefined')window.t1093_activeHoverHook='';if(typeof window.t1093_isMobile==='undefined'){window.t1093_isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||('ontouchend' in document&&navigator.userAgent.indexOf('AppleWebKit')!==-1)}
if(typeof window.t1093_windowWidth==='undefined')window.t1093_windowWidth=t1093__getWindowWidth();if(typeof window.t1093_isMobRes==='undefined')window.t1093_isMobRes=window.t1093_windowWidth<980;if(typeof window.t1093_isSafari==='undefined'){window.t1093_isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}
function t1093__processScrollablePopup(popup){if(!popup)return;var popupContainer=popup.querySelector('.t-popup__container');if(!popupContainer)return;popup.style.display='block';var popupHeight=popupContainer.offsetHeight;popup.style.display='';var windowHeight=window.t1093_isMobile?document.documentElement.clientHeight:window.innerHeight;if(popupHeight>windowHeight){popupContainer.classList.add('t-popup__container-static')}}
function t1093__updateGlobalObj(key,value,type){switch(type){case 'array':window['t1093_'+key].push(value);break;case 'boolean':window['t1093_'+key]=value;break;case 'string':window['t1093_'+key]=value||'';break;case 'timeout':if(window['t1093_'+key])clearTimeout(window['t1093_'+key]);window['t1093_'+key]=value;break}}
function t1093__getGlobalObjValue(key){return window['t1093_'+key]}
function t1093__getWindowWidth(){return t1093__getGlobalObjValue('isMobile')?document.documentElement.clientWidth:window.innerWidth}
function t1093__resizeAllPopups(){var newTimeout=setTimeout(function(){var currentWindowWidth=t1093__getWindowWidth();var isMobile=currentWindowWidth<980;var isMobileResolution=t1093__getGlobalObjValue('isMobRes');if(isMobile===isMobileResolution)return;t1093__updateGlobalObj('isMobRes',isMobile,'boolean');t1093__getGlobalObjValue('popupList').forEach(function(popup){t1093__processPopupClassList(popup)});t1093__updateGlobalObj('resizeTimer',0,'timeout')},500);t1093__updateGlobalObj('resizeTimer',newTimeout,'timeout')}
function t1093__processPopupClassList(popup){t1093__clearPopupClassList(popup);var popupClassList=[];var safariDesktopClassName='t-popup-safari';var isMobileResolution=t1093__getGlobalObjValue('isMobRes');var isSafari=t1093__getGlobalObjValue('isSafari');if(!isMobileResolution&&isSafari&&!popup.classList.contains(safariDesktopClassName)){popupClassList.push(safariDesktopClassName)}
var animAttr='data-anim';var mobileAttr=animAttr+'-mobile';var attrValue=popup.getAttribute(animAttr);if(isMobileResolution){var mobileAttrValue=popup.getAttribute(mobileAttr);if(mobileAttrValue)attrValue=mobileAttrValue}
if((isMobileResolution&&attrValue!=='empty')||(!isMobileResolution&&attrValue)){popupClassList.push('t-popup-anim-'+attrValue);popupClassList.push('t-popup-transition')}
popupClassList.forEach(function(className){popup.classList.add(className)})}
function t1093__clearPopupClassList(popup){popup.classList.remove('t-popup-transition');for(var key=0;key<popup.classList.length;key++){var className=popup.classList[key];if(className.indexOf('t-popup-anim-')!==-1)popup.classList.remove(className)}}
function t1093__setPointerEventsToZeroBlock(rec){var artBoard=rec.querySelector('.t396__artboard');if(!artBoard)return;var abFilter=artBoard.querySelector('.t396__filter');var artBoardStyle=getComputedStyle(artBoard);var abFilterBG=abFilter?getComputedStyle(abFilter).backgroundImage:'';var hasBG=abFilterBG!=='none'||artBoardStyle.backgroundColor!=='rgba(0, 0, 0, 0)'||artBoardStyle.backgroundImage!=='none';if(hasBG)artBoard.classList.add('t396__artboard_pointer-events-auto')}
function t1093__initPopup(recID){var rec=document.getElementById('rec'+recID);if(!rec)return;rec.setAttribute('data-animationappear','off');rec.style.opacity='1';var popup=rec.querySelector('.t-popup');var hook=t1093__getHookFromPopup(popup);if(!popup||!hook)return;t1093__generatePopupObj();t1093__updatePopupObjValue('hookList',hook);var isMobile=t1093__getGlobalObjValue('isMobile');var isHoverTrigger=t1093__getBooleanPopupAttribute(popup,'hover-trigger')&&!isMobile;if(isHoverTrigger){t1093__updatePopupObjValue('hoverHookList',hook);popup.classList.add('t-popup_hover-trigger')}
t1093__setListenersForPopup(popup,isHoverTrigger);t1093__setListenersForDocument(isHoverTrigger);t_onFuncLoad('t_popup__addClassOnTriggerButton',function(){t_popup__addClassOnTriggerButton(document,hook)});t_onFuncLoad('t_popup__addAttributesForAccessibility',function(){t_popup__addAttributesForAccessibility(hook)});if(!isHoverTrigger)t1093__setAnalyticsListeners(popup);if(t1093__getBooleanPopupAttribute(popup,'open-on-page-load')){t1093__onReady(function(){setTimeout(function(){t1093__showCurrentPopup(popup)},1000)})}}
function t1093__onReady(callback){document.readyState!=='loading'?callback():document.addEventListener('DOMContentLoaded',callback)}
function t1093__generatePopupObj(){if(window.tPopupObj)return;window.tPopupObj={hookList:[],hoverHookList:[],openPopUpList:[],}}
function t1093__updatePopupObjValue(key,value){if(!window.tPopupObj||!window.tPopupObj[key])return;if(window.tPopupObj[key].indexOf(value)===-1)window.tPopupObj[key].push(value)}
function t1093__getPopupObjValue(key){return window.tPopupObj[key]}
function t1093__showOnHover(e){var popup=e.target.closest('.t-popup');if(!popup)e.preventDefault();if(popup&&!popup.classList.contains('t-popup_show'))return;t1093__updateGlobalObj('hoverTimer',0,'timeout');var targetHook=t1093__getHookOnHover(e);var activeHoverHook=t1093__getGlobalObjValue('activeHoverHook');if(targetHook&&targetHook===activeHoverHook)return;if(!popup)t1093__closePopup(!0,-1,!1);t1093__updateGlobalObj('activeHoverHook',targetHook,'string');t1093__processCurrentPopupOnShow(targetHook)}
function t1093__hideOnHover(e){var targetHook=t1093__getHookOnHover(e);var newTimeout=setTimeout(function(){t1093__updateGlobalObj('activeHoverHook','','string');var openPopupList=t1093__getPopupObjValue('openPopUpList');var openPopupIndex=openPopupList.indexOf(targetHook);if(openPopupIndex!==-1){t1093__closePopup(!1,openPopupIndex,!1)}
t1093__updateGlobalObj('hoverTimer',0,'timeout')},300);t1093__updateGlobalObj('hoverTimer',newTimeout,'timeout')}
function t1093__getHookOnHover(e){var target=e.currentTarget;var targetHref=target.getAttribute('href');var popup=target.closest('.t-popup');var hookList=t1093__getPopupObjValue('hoverHookList');if(hookList.length&&hookList.indexOf(targetHref)!==-1)return targetHref;return t1093__getHookFromPopup(popup)||targetHref||''}
function t1093__showOnClick(e){var hookList=t1093__getPopupObjValue('hookList');if(!hookList.length)return;var target=e.target;var hookListSelector=t1093__createSelectorFromHookList(!1);var targetLink=target.closest(hookListSelector);if(!targetLink)return;e.preventDefault();var targetHook=targetLink.getAttribute('href')||'';var openPopupList=t1093__getPopupObjValue('openPopUpList');var openPopupIndex=openPopupList.indexOf(targetHook);if(openPopupIndex!==-1&&e.isTrusted){t1093__closePopup(!1,openPopupIndex,!1);return}
var lastPopupIndex=openPopupList.length-1;var lastOpenedPopupHook=openPopupList[lastPopupIndex];if(lastOpenedPopupHook){var lastOpenedPopup=t1093__getPopupByHook(lastOpenedPopupHook);var shouldClosePopup=lastOpenedPopup&&lastOpenedPopup.getAttribute('data-popup-close-on-open-another')==='true';if(shouldClosePopup){t1093__closePopup(!1,lastPopupIndex,!1)}}
t1093__processCurrentPopupOnShow(targetHook)}
function t1093__getPopupByHook(hookName){if(!hookName)return null;return document.querySelector('[data-tooltip-hook="'+hookName+'"]')}
function t1093__getHookFromPopup(popup){return(popup&&popup.getAttribute('data-tooltip-hook'))||''}
function t1093__processCurrentPopupOnShow(targetHook){if(!targetHook)return;var currentPopup=t1093__getPopupByHook(targetHook);var currentPopupRec=currentPopup&&currentPopup.closest('.r');t1093__showCurrentPopup(currentPopup);if(currentPopupRec){t_onFuncLoad('t_popup__resizePopup',function(){t_popup__resizePopup(currentPopupRec.id.replace('rec',''))})}
var artBoard=currentPopup.querySelector('.t396__artboard');var artBoardOverflow=artBoard?getComputedStyle(artBoard).overflow:'hidden';var isScrollablePopup=currentPopup.querySelector('.t-popup__container-static');var isPopupHasDisabledBG=t1093__getBooleanPopupAttribute(currentPopup,'disabled-bg');var isPopupHasLockScroll=t1093__getBooleanPopupAttribute(currentPopup,'disable-lock-scroll');var isArtBoardScrollable=['auto','scroll'].some(overflow=>artBoardOverflow.includes(overflow));if(isArtBoardScrollable){currentPopup.classList.add('t-popup-scrollable-artboard')}
if(isScrollablePopup){if(isPopupHasLockScroll)t1093__updateBodyOnAction('add');if(isPopupHasDisabledBG)currentPopup.classList.remove('t-popup-disabled-bg')}else if(isPopupHasDisabledBG)currentPopup.classList.add('t-popup-disabled-bg')}
function t1093__getBooleanPopupAttribute(popup,attrName){return popup.getAttribute('data-popup-'+attrName)==='y'}
function t1093__createSelectorFromHookList(isHoverTrigger){var hookListName=isHoverTrigger?'hoverHookList':'hookList';var hookList=t1093__getPopupObjValue(hookListName);var selectorList=hookList.map(function(hook){return 'a[href="'+hook+'"]'});return selectorList.join(', ')}
function t1093__setListenersForPopup(popup,isHoverTrigger){if(!popup)return;if(isHoverTrigger){t1093__processEventsOnHover(popup)}else{popup.removeEventListener('click',t1093__closePopupOnClick);popup.addEventListener('click',t1093__closePopupOnClick)}
popup.removeEventListener('click',t1093__closePopupOnCloseButton);popup.addEventListener('click',t1093__closePopupOnCloseButton)}
function t1093__setListenersForDocument(isHoverTrigger){if(isHoverTrigger){var selectorList=t1093__createSelectorFromHookList(isHoverTrigger);var hookLinks=Array.prototype.slice.call(document.querySelectorAll(selectorList));hookLinks.forEach(function(link){t1093__processEventsOnHover(link)})}else{document.removeEventListener('click',t1093__showOnClick);document.addEventListener('click',t1093__showOnClick)}
document.removeEventListener('click',t1093__processCloseLink);document.removeEventListener('keydown',t1093__closeOnESC);document.addEventListener('keydown',t1093__closeOnESC);document.addEventListener('click',t1093__processCloseLink)}
function t1093__setAnalyticsListeners(popup){var popupAnalytics=popup.getAttribute('data-track-popup');if(!popupAnalytics)return;var currentHook=t1093__getHookFromPopup(popup);document.addEventListener('click',function(e){var hookLink=e.target.closest('a[href="'+currentHook+'"]');if(!hookLink)return;if(window.Tilda)Tilda.sendEventToStatistics(popupAnalytics,currentHook)})}
function t1093__processEventsOnHover(elem){elem.removeEventListener('mouseover',t1093__showOnHover);elem.removeEventListener('mouseout',t1093__hideOnHover);elem.addEventListener('mouseover',t1093__showOnHover);elem.addEventListener('mouseout',t1093__hideOnHover)}
function t1093__closeOnESC(e){if(e.keyCode===27){e.preventDefault();t1093__closePopup(!1,-1,!0)}}
function t1093__processCloseLink(e){var isCloseLink=e.target.closest('a[href="#closepopup"]');var isAllCloseLink=e.target.closest('a[href="#closeallpopup"]');if(!isCloseLink&&!isAllCloseLink)return;e.preventDefault();t1093__closePopup(Boolean(isAllCloseLink),-1,!0)}
function t1093__closeOnLink(e){var openPopupList=t1093__getPopupObjValue('openPopUpList');if(!openPopupList.length)return;var popupLink=e.target.closest('a[href*="#"]');if(!popupLink)return;var exceptionSelectors=['.t978__tm-link','.t966__tm-link','.t794__tm-link','a[href="#closepopup"]','a[href="#closeallpopup"]',];var isLinkHasSubmenu=exceptionSelectors.some(function(selector){return popupLink.closest(selector)});if(!isLinkHasSubmenu)t1093__closePopup(!0,-1,!0)}
function t1093__closePopupOnClick(e){var isPopupBackground=!e.target.closest('.t-popup__container');if(!isPopupBackground)return;var popup=e.target.closest('.t-popup');var currentPopupHook=t1093__getHookFromPopup(popup);var openPopupList=t1093__getPopupObjValue('openPopUpList');var currentPopupIndex=openPopupList.indexOf(currentPopupHook);t1093__closePopup(!1,currentPopupIndex,!0)}
function t1093__closePopupOnCloseButton(e){var isCloseButton=e.target.closest('.t-popup__close');if(!isCloseButton)return;t1093__closePopup(!1,-1,!0)}
function t1093__showCurrentPopup(popup){if(!popup)return;if(popup.closeTimerID)clearTimeout(popup.closeTimerID);var rec=popup.closest('.r');var windowWidth=window.innerWidth;var screenMin=rec.getAttribute('data-screen-min');var screenMax=rec.getAttribute('data-screen-max');if(screenMin&&windowWidth<parseInt(screenMin,10))return;if(screenMax&&windowWidth>parseInt(screenMax,10))return;var popupHook=t1093__getHookFromPopup(popup);t1093__updatePopupObjValue('openPopUpList',popupHook);document.removeEventListener('click',t1093__closeOnLink);document.addEventListener('click',t1093__closeOnLink);popup.style.display='block';var popupBG=popup.nextElementSibling;if(popupBG)popupBG.classList.add('t-popup__bg-active');var allRecords=document.getElementById('allrecords');var isLazy=allRecords?allRecords.getAttribute('data-tilda-lazy')==='yes':!1;if(window.lazy==='y'||isLazy){t_onFuncLoad('t_lazyload_update',function(){t_lazyload_update()})}
var artBoard=popup.querySelector('.t396__artboard');if(artBoard&&!popup.resizeProcessed){var blockID=artBoard.getAttribute('data-artboard-recid')||'';t_onFuncLoad('t396_doResize',function(){t396_doResize(blockID);popup.resizeProcessed=!0})}
var galleryElems=Array.prototype.slice.call(popup.querySelectorAll('[data-elem-type="gallery"]'));if(galleryElems.length){t_onFuncLoad('t_slds_updateSlider',function(){galleryElems.forEach(function(element){t_slds_updateSlider([element])})})}
var formElems=Array.prototype.slice.call(popup.querySelectorAll('[data-elem-type="form"]'));formElems.forEach(function(elem){var form=elem.querySelector('.t-form');if(!form)return;form.removeAttribute('data-success-popup')});setTimeout(function(){popup.focus();var popupContainer=popup.querySelector('.t-popup__container');if(popupContainer)popupContainer.classList.add('t-popup__container-animated');popup.classList.add('t-popup_show');t_onFuncLoad('t_popup__trapFocus',function(){t_popup__trapFocus(popup)})},50);var popupTimer=t1093__getTimer(popup,'open');var needFadeOut=t1093__getResponsiveAttr(popup,'anim-close')==='fadein';if(needFadeOut){popup.openTimerID=setTimeout(function(){popup.classList.add('t-popup-fadeout');popup.openTimerID=0},popupTimer)}
if((popupTimer&&window.lazy==='y')||isLazy){setTimeout(function(){t_onFuncLoad('t_lazyload_update',function(){t_lazyload_update()})},popupTimer)}
if(!t1093__getBooleanPopupAttribute(popup,'disable-lock-scroll')){t1093__updateBodyOnAction('add')}}
function t1093__closePopup(closeAll,index,removeAnimOnCloseFromHook){var openPopupList=t1093__getPopupObjValue('openPopUpList');if(!openPopupList.length)return;var popupList=t1093__processClosedPopupList(closeAll,index);if(!popupList.length)return;openPopupList=t1093__getPopupObjValue('openPopUpList');var isLastPopup=openPopupList.length===0;popupList.forEach(function(popup){if(isLastPopup)t1093__updateBodyOnAction('remove');popup.classList.remove('t-popup_show');if(popup.openTimerID)clearTimeout(popup.openTimerID);t1093__removeAnimationOnClose(popup);if(removeAnimOnCloseFromHook)t1093__removeAnimFromHookLinkOnClose(popup);t_onFuncLoad('t_popup__addFocusOnTriggerButton',function(){t_popup__addFocusOnTriggerButton()});var popupCloseTimer=t1093__getTimer(popup,'close');popup.closeTimerID=setTimeout(function(){if(!popup.classList.contains('t-popup_show'))popup.style.display='none';var popupBG=popup.nextElementSibling;if(popupBG)popupBG.classList.remove('t-popup__bg-active');popup.classList.remove('t-popup-fadeout');t1093__pauseAllVideo(popup);popup.closeTimerID=0},popupCloseTimer)})}
function t1093__updateBodyOnAction(action){var triggeredEvent=action==='add'?'popupShowed':'popupHidden';var body=document.body;if(typeof t_triggerEvent==='function')t_triggerEvent(body,triggeredEvent);body.classList[action]('t-body_popupshowed')}
function t1093__pauseAllVideo(popup){if(!popup)return;var videoElems=Array.prototype.slice.call(popup.querySelectorAll('[data-elem-type="video"], [data-elem-type="gallery"]'));videoElems.forEach(function(element){var videoElem=element.querySelector('video, iframe');if(!videoElem)return;if(videoElem.tagName==='VIDEO')videoElem.pause();var videoSRC=videoElem.src;if(videoElem.tagName!=='IFRAME'||!videoSRC)return;if(videoSRC.indexOf('&enablejsapi=1')!==-1){videoElem.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*')}
if(videoSRC.indexOf('rutube')!==-1){videoElem.contentWindow.postMessage('{"type":"player:pause","data":"{}"}','*')}
if(videoSRC.indexOf('vk')!==-1){t_loadJsFile('https://vk.com/js/api/videoplayer.js',function(){const VKPlayer=VK.VideoPlayer(videoElem);VKPlayer.pause()})}
if(videoSRC.indexOf('vimeo')!==-1&&videoSRC.indexOf('&api=1')!==-1){videoElem.contentWindow.postMessage('{"method":"pause","value":"true"}','*')}
if(videoSRC.indexOf('kinescope')!==-1){t_onFuncLoad('t_loadJsFile',()=>{t_loadJsFile('https://player.kinescope.io/latest/iframe.player.js')});t_onFuncLoad('Kinescope',()=>{const id=videoElem.id;const url=videoElem.src;Kinescope.IframePlayer.create(id,{url}).then(KinescopePlayer=>{KinescopePlayer.pause()})})}})}
function t1093__getTimer(popup,action){var isMobileResolution=t1093__getGlobalObjValue('isMobRes');if(typeof isMobileResolution==='undefined')return 50;var isZeroTimer=t1093__getResponsiveAttr(popup,'anim-close')==='empty';if((isZeroTimer&&action==='close')||!popup.classList.contains('t-popup-transition'))return 0;var popupTimer=popup.getAttribute('data-anim-timeout');if(popupTimer)popupTimer*=1000;return popupTimer||0}
function t1093__getResponsiveAttr(popup,attr){var isMobileResolution=t1093__getGlobalObjValue('isMobRes');if(typeof isMobileResolution==='undefined')return null;var currentAttr='data-'+attr;if(isMobileResolution){var attrMob=popup.getAttribute(currentAttr+'-mobile');if(attrMob)return attrMob}
return popup.getAttribute(currentAttr)}
function t1093__removeAnimFromHookLinkOnClose(popup){var popupHook=t1093__getHookFromPopup(popup);var popupInitLinks=Array.prototype.slice.call(document.querySelectorAll('a[href="'+popupHook+'"]'));popupInitLinks.forEach(function(link){var animEl=link.closest('.js-sbs-anim-trigger_click');if(!animEl)return;var animElID=animEl.getAttribute('data-elem-id');var animElArtBoard=animEl.closest('.t396__artboard');var alreadyAnimatedEls=Array.prototype.slice.call(animElArtBoard.querySelectorAll('.t-sbs-anim_started'));alreadyAnimatedEls.forEach(function(animEl){var triggersList=animEl.getAttribute('data-animate-sbs-trgels');if(!triggersList||triggersList.indexOf(animElID)===-1)return;animEl.classList.remove('t-sbs-anim_started')})})}
function t1093__processClosedPopupList(closeAll,index){var openPopupList=t1093__getPopupObjValue('openPopUpList');var hookList=closeAll?openPopupList:openPopupList.slice(index);var popupSelectors=hookList.map(function(hook){return '[data-tooltip-hook="'+hook+'"]'});popupSelectors=popupSelectors.join(', ');t1093__clearPopupObjKey('openPopUpList',closeAll,index);return Array.prototype.slice.call(document.querySelectorAll(popupSelectors))}
function t1093__removeAnimationOnClose(popup){var popupAnimElems=Array.prototype.slice.call(popup.querySelectorAll('.t-animate_started'));var windowWidth=(window.tn&&window.tn.curResolution)||window.innerWidth;popupAnimElems.forEach(function(elem){if(windowWidth<1200&&elem.getAttribute('data-animate-mobile')!=='y')return;elem.classList.remove('t-animate_started');elem.classList.add('t-animate_wait')})}
function t1093__clearPopupObjKey(key,emptyAll,index){if(!window.tPopupObj||!window.tPopupObj[key])return;if(emptyAll){window.tPopupObj[key]=[]}else if(index===-1){window.tPopupObj[key].pop()}else{window.tPopupObj[key]=window.tPopupObj[key].slice(0,index)}}
function t886_init(recid){var rec=document.querySelector('#rec'+recid);if(!rec)return;var notificationBlock=rec.querySelector('.t886');var closeButton=rec.querySelector('.t886__btn');var storageItem=notificationBlock.getAttribute('data-storage-item');var lastOpen;try{lastOpen=localStorage.getItem(storageItem)}catch(error){console.log('Your web browser does not support localStorage. Error status: ',error)}
if(!lastOpen){notificationBlock.classList.remove('t886_closed')}
if(closeButton){closeButton.addEventListener('click',function(event){notificationBlock.classList.add('t886_closed');try{localStorage.setItem(storageItem,Math.floor(Date.now()/1000))}catch(error){console.log('Your web browser does not support localStorage. Error status: ',error)}
event.preventDefault()})}}